/* BASE */
* {
    box-sizing: border-box;
    padding: 0;
    margin: 0;
}

html {
    scroll-behavior: smooth;
    scroll-padding-top: 90px;
    /* Reduced offset for better visual balance */
    overflow-x: hidden;
}

body {
    font-family: var(--body-font);
    font-size: var(--normal-font-size);
    background-color: var(--body-color);
    color: var(--text-color);
    line-height: 1.6;
    overflow-x: hidden;
    /* Soft diffused backdrop inspired by the Salud Ocupacional page */
    background-image: var(--dm-page-bg);
    background-repeat: no-repeat;
}

@media (min-width: 1024px) {
    body {
        background-attachment: fixed;
        background-position: center top;
    }
}

:root {
    --dm-fab-bottom: 18px;
    --dm-chat-fab-size: 58px;
    --dm-fab-gap: 8px;
    --dm-footer-safe: 0px;
}

@media (min-width: 1024px) {
    :root {
        --dm-fab-bottom: 2rem;
        --dm-footer-safe: 64px;
    }
}

/* UTILITIES */
.text-center {
    text-align: center;
}

.mb-1 {
    margin-bottom: 1rem;
}

.mb-2 {
    margin-bottom: 2rem;
}

.mb-3 {
    margin-bottom: 3rem;
}

/* GLASS PANEL UTILITY (Deep Liquid Style) */
.glass-panel {
    background: linear-gradient(135deg, rgba(255, 255, 255, 0.8), rgba(255, 255, 255, 0.6));
    backdrop-filter: blur(40px) saturate(200%);
    -webkit-backdrop-filter: blur(40px) saturate(200%);
    border: 1px solid rgba(255, 255, 255, 0.9);
    border-bottom: 1px solid rgba(255, 255, 255, 0.4);
    border-right: 1px solid rgba(255, 255, 255, 0.4);
    box-shadow:
        0 20px 40px rgba(0, 0, 0, 0.08),
        0 5px 15px rgba(0, 0, 0, 0.05),
        inset 0 0 0 1px rgba(255, 255, 255, 0.5);
    border-radius: 24px;
    transition: all 0.5s cubic-bezier(0.25, 0.8, 0.25, 1);
    position: relative;
    overflow: hidden;
}

.glass-panel::before {
    content: '';
    position: absolute;
    top: 0;
    left: -50%;
    width: 100%;
    height: 100%;
    background: linear-gradient(to right, transparent, rgba(255, 255, 255, 0.6), transparent);
    transform: skewX(-25deg);
    transition: 0.7s;
    opacity: 0;
    pointer-events: none;
}

.glass-panel:hover {
    transform: none;
    box-shadow:
        0 20px 40px rgba(0, 0, 0, 0.08),
        0 5px 15px rgba(0, 0, 0, 0.05),
        inset 0 0 0 1px rgba(255, 255, 255, 0.5);
    background: linear-gradient(135deg, rgba(255, 255, 255, 0.8), rgba(255, 255, 255, 0.6));
}

.glass-panel:hover::before {
    left: 150%;
    opacity: 1;
    transition: 0.7s;
}


h1,
h2,
h3,
h4 {
    color: var(--title-color);
    font-family: var(--title-font);
    font-weight: var(--font-bold);
    line-height: 1.2;
}

ul {
    list-style: none;
}

a {
    text-decoration: none;
    color: inherit;
}

img {
    max-width: 100%;
    height: auto;
    display: block;
}

/* ==== NOTIFICATIONS UI ==== */
.nav-notifications{
    position: relative;
    display: inline-flex;
    align-items: center;
    margin: 0;
}
.dm-notif-btn{
    position: relative;
    width: 38px;
    height: 38px;
    border-radius: 12px;
    border: 1px solid rgba(0,0,0,0.08);
    background: #fff;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    color: var(--first-color, #7AB800);
    cursor: pointer;
    transition: transform .12s ease, box-shadow .12s ease, border-color .12s ease, color .12s ease;
}
.dm-notif-btn svg,
.dm-notif-btn i{
    width: 22px;
    height: 22px;
    display: block;
}
.dm-notif-btn:hover{
    box-shadow: 0 10px 24px rgba(0,0,0,0.08);
    transform: translateY(-1px);
    border-color: rgba(0,0,0,0.12);
}
.dm-notif-btn.has-unread{
    animation: dm-notif-pulse 1.4s ease-in-out infinite;
}
.dm-notif-badge{
    position: absolute;
    top: -5px;
    right: -5px;
    width: 18px;
    height: 18px;
    padding: 0;
    border-radius: 999px;
    background: var(--first-color, #7AB800);
    color: #fff;
    font-size: 10px;
    font-weight: 800;
    display: grid;
    place-items: center;
    line-height: 1;
    font-variant-numeric: tabular-nums;
}

.dm-notif-dropdown{
    position: absolute;
    top: 120%;
    right: 0;
    width: 320px;
    background: #fff;
    border: 1px solid rgba(0,0,0,0.06);
    box-shadow: 0 18px 40px rgba(15,23,42,0.12);
    border-radius: 14px;
    padding: 10px 0 8px;
    z-index: 999;
}
.dm-notif-dropdown__header,
.dm-notif-dropdown__footer{
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 6px 12px;
    gap: 8px;
}
.dm-notif-dropdown__title{
    font-weight: 800;
    font-size: 0.95rem;
    color: #111827;
}
.dm-notif-dropdown__markall{
    border: 1px solid rgba(0,0,0,0.12);
    background: #fff;
    border-radius: 10px;
    padding: 6px 10px;
    font-size: 0.82rem;
    font-weight: 700;
    cursor: pointer;
    transition: background .12s ease, transform .12s ease;
}
.dm-notif-dropdown__markall:hover{
    background: rgba(0,0,0,0.04);
    transform: translateY(-1px);
}
.dm-notif-dropdown__hint{
    font-size: 0.78rem;
    color: #6b7280;
}
.dm-notif-list{
    max-height: 360px;
    overflow-y: auto;
    padding: 4px 6px;
}

.dm-msg-indicator{
    display: none;
    align-items: center;
    gap: 6px;
    margin-left: 8px;
    font-weight: 700;
    color: #111827;
    font-size: 0.85rem;
}

.dm-msg-label{
    display: inline-block;
    line-height: 1;
}

.dm-msg-badge{
    min-width: 20px;
    height: 20px;
    padding: 0 6px;
    border-radius: 999px;
    background: var(--first-color, #7AB800);
    color: #fff;
    font-size: 0.72rem;
    font-weight: 800;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    line-height: 1;
    font-variant-numeric: tabular-nums;
}
.dm-notif-item{
    display: grid;
    grid-template-columns: 32px 1fr;
    gap: 10px;
    align-items: center;
    padding: 10px 10px;
    border-radius: 12px;
    cursor: pointer;
    transition: background .12s ease, border-color .12s ease;
    border: 1px solid transparent;
}
.dm-notif-item:hover{
    background: rgba(15,23,42,0.02);
    border-color: rgba(15,23,42,0.05);
}
.dm-notif-item.unread{
    border-color: rgba(122,184,0,0.25);
}
.dm-notif-icon{
    width: 32px;
    height: 32px;
    border-radius: 10px;
    background: rgba(122,184,0,0.12);
    color: var(--first-color, #7AB800);
    display: inline-flex;
    align-items: center;
    justify-content: center;
    font-size: 1rem;
}
.dm-notif-content{
    display: flex;
    flex-direction: column;
    gap: 2px;
    min-width: 0;
}
.dm-notif-title{
    font-size: 0.92rem;
    font-weight: 800;
    color: #111827;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
}
.dm-notif-meta{
    display: flex;
    gap: 6px;
    align-items: center;
    font-size: 0.78rem;
    color: #6b7280;
    white-space: nowrap;
}
.dm-notif-body{
    font-size: 0.82rem;
    color: #374151;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
}

@keyframes dm-notif-pulse{
    0%{ color: var(--first-color, #7AB800); }
    50%{ color: #2563EB; }
    100%{ color: var(--first-color, #7AB800); }
}

/* Toast */
.dm-notif-toast{
    position: fixed;
    right: 16px;
    bottom: 16px;
    background: #fff;
    border: 1px solid rgba(122,184,0,0.35);
    box-shadow: 0 18px 36px rgba(0,0,0,0.16);
    border-radius: 14px;
    padding: 10px 12px;
    display: flex;
    gap: 10px;
    align-items: center;
    min-width: 220px;
    max-width: 320px;
    opacity: 0;
    transform: translateY(10px);
    transition: opacity .18s ease, transform .18s ease;
    z-index: 2000;
    cursor: pointer;
}
.dm-notif-toast.is-visible{
    opacity: 1;
    transform: translateY(0);
}
.dm-notif-toast__icon{
    font-size: 1.3rem;
}
.dm-notif-toast__body{
    display: flex;
    flex-direction: column;
    gap: 2px;
}
.dm-notif-toast__title{
    font-weight: 800;
    font-size: 0.95rem;
    color: #0f172a;
}
.dm-notif-toast__meta{
    font-size: 0.78rem;
    color: #6b7280;
}
/* REUSABLE CSS CLASSES */
.container {
    max-width: 1024px;
    width: 100%;
    margin: 0 auto;
    padding-left: 1.5rem;
    padding-right: 1.5rem;
}

.section {
    padding: 4.5rem 0 2rem;
}

.section--tight {
    padding: 2.5rem 0 1.5rem;
}

.section__header {
    text-align: center;
    margin-bottom: 3rem;
}

.section__header--compact {
    margin-bottom: 1.75rem;
}

/* HERO */
.section__title {
    font-size: 4.5rem;
    font-weight: 800;
    letter-spacing: -1.5px;
    color: #222222;
    margin-bottom: 1rem;
    line-height: 1.1;
}

.section__subtitle {
    display: block;
    font-size: 1.5rem;
    color: var(--first-color-ink);
    font-weight: 700;
    margin-bottom: 1.5rem;
}

.section__subtitle--brisa {
    color: var(--first-color);
}

.section__description {
    max-width: 800px;
    margin-left: auto;
    margin-right: auto;
    font-size: 1.25rem;
    color: #555555;
    line-height: 1.6;
    margin-bottom: 2.5rem;
}

.button {
    display: inline-block;
    background-color: var(--first-color);
    color: #fff;
    padding: 0.75rem 1.5rem;
    border-radius: 0.5rem;
    font-weight: var(--font-medium);
    transition: .3s;
    border: none;
    box-shadow: none;
}

.button:hover {
    background-color: var(--first-color-alt);
    transform: translateY(-2px);
}

/* HEADER & NAV */
/* HEADER */
.header {
    width: 100%;
    position: fixed;
    top: 0;
    left: 0;
    z-index: var(--z-fixed);
    background-color: rgba(255, 255, 255, 0.9);
    /* Initial transparent/white */
    transition: all 0.4s ease;
    /* Smooth transition for height/padding */
    backdrop-filter: blur(10px);
}

/* Dynamic Header Title (Hidden initially) */
.header__title-center {
    font-size: 1.5rem;
    /* Increased from 1.25rem */
    font-weight: 700;
    color: #1d1d1f;
    opacity: 0;
    visibility: hidden;
    transform: translateY(-6px);
    transition: opacity 0.3s ease, transform 0.3s ease;
    white-space: nowrap;
    text-align: center;
    pointer-events: none;
    max-width: 100%;
    overflow: hidden;
    text-overflow: ellipsis;
}

/* SCROLL HEADER STATE */
.scroll-header {
    box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
    /* Stronger shadow */
    background-color: rgba(255, 255, 255, 0.98);
    /* Almost solid white */
    padding: 0.35rem 0;
    /* Keep a bit more air so the logos don't collapse */
    height: 90px;
    /* Taller scroll state to preserve logo presence */
}

.scroll-header .header__container {
    height: 90px;
    /* Match the header to avoid over-shrinking children */
}

/* Show Title on Scroll */
.scroll-header .header__title-center {
    opacity: 1;
    visibility: visible;
    transform: translateY(0);
    pointer-events: auto;
}

/* Keep logos larger on scroll for better brand presence */
.scroll-header .logo img {
    height: 68px;
    /* Gentle scale-down only */
    transition: none;
}

.scroll-header .logo-img-brisa {
    height: 78px;
    max-height: 78px;
}

.scroll-header .logo-img-heart {
    height: 64px;
    max-height: 64px;
}

/* Adjust Nav Links on Scroll */
.scroll-header .nav__link {
    font-size: 0.85rem;
    /* Smaller font */
    color: #555;
}

.scroll-header .nav__list {
    gap: 0.25rem;
    padding: 0.25rem;
    background: rgba(255, 255, 255, 0.92);
    box-shadow: 0 8px 20px rgba(15, 23, 42, 0.08);
}

/* Ensure Nav moves right */
/* Ensure Nav stays put */
.scroll-header .nav__menu {
    transform: none;
}

.scroll-header .logo-wrapper {
    transform: none;
}

.logo-wrapper {
    /* margin-top: 10px; Removed for vertical alignment */
    display: flex;
    flex-direction: row;
    /* Explicitly set row */
    flex-wrap: nowrap;
    /* Prevent wrapping */
    align-items: center;
    gap: 1.5rem;
    flex-shrink: 0;
    /* Prevent wrapper from shrinking */
}

.header__container {
    height: 120px;
    /* Taller Header */
    display: flex;
    justify-content: space-between;
    align-items: center;
    gap: 1.5rem;
}

.header__left,
.header__center,
.header__right {
    display: flex;
    align-items: center;
}

.header__left {
    flex: 0 0 auto;
}

.header__center {
    flex: 1 1 auto;
    justify-content: center;
    min-width: 0;
}

.header__right {
    flex: 0 0 auto;
    gap: var(--sp-4, 24px);
    justify-content: flex-end;
    min-width: 0;
}

.header__actions {
    display: inline-flex;
    align-items: center;
    gap: var(--sp-3, 16px);
    flex-wrap: nowrap;
    min-width: 0;
}

.nav__menu {
    min-width: 0;
}

.user-panel-trigger {
    max-width: 220px;
}

.user-panel-trigger .user-name {
    max-width: 140px;
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
    display: inline-block;
}

.logo {
    display: flex;
    flex-direction: column;
    line-height: 1.1;
    flex-shrink: 0;
    /* Prevent logo from shrinking */
}

/* Ensure images don't shrink or cause layout shifts */
/* Ensure images don't shrink or cause layout shifts */
.logo img {
    max-width: 100%;
    /* Restore safety net */
    display: block;
    object-fit: contain;
}

/* Explicit Dimensions to prevent CLS (Cumulative Layout Shift) */
.logo-img-brisa {
    height: 85px;
    max-height: 85px;
    /* Double constraint */
    width: auto;
    aspect-ratio: 200/85;
}

.logo-img-heart {
    height: 70px;
    max-height: 70px;
    /* Double constraint */
    width: auto;
    aspect-ratio: 80/70;
    margin-bottom: 8px;
    /* Lift slightly for optical alignment */
}

.logo__text {
    font-family: var(--title-font);
    font-weight: var(--font-bold);
    font-size: 1.1rem;
    color: var(--first-color-ink);
}

.logo__sub {
    font-size: 0.7rem;
    color: var(--text-color);
    letter-spacing: 0.5px;
}

.nav__menu {
    display: flex;
    align-items: center;
    gap: 0.75rem;
}

.nav__list {
    display: flex;
    align-items: center;
    gap: 0.35rem;
    padding: 0.35rem;
    margin: 0;
    background: rgba(255, 255, 255, 0.7);
    border: 1px solid rgba(15, 23, 42, 0.08);
    border-radius: 999px;
    box-shadow: 0 10px 24px rgba(15, 23, 42, 0.08);
    backdrop-filter: blur(12px);
    -webkit-backdrop-filter: blur(12px);
}

.nav__link {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    font-weight: 600;
    /* Semi-bold */
    font-size: 0.95rem;
    /* Slightly larger */
    color: var(--title-color);
    letter-spacing: 0.3px;
    /* Cleaner tracking */
    padding: 0.35rem 0.9rem;
    border-radius: 999px;
    line-height: 1;
    transition: background-color 0.2s ease, color 0.2s ease, box-shadow 0.2s ease;
}

.nav__link:hover,
.nav__link.active-link {
    background: rgba(122, 184, 0, 0.14);
    color: var(--first-color-ink);
}

.nav__link.active-link {
    box-shadow: inset 0 0 0 1px rgba(122, 184, 0, 0.35);
}

.header .nav__link:focus-visible {
    background: rgba(122, 184, 0, 0.18);
    color: var(--first-color-ink);
    box-shadow: inset 0 0 0 1px rgba(122, 184, 0, 0.4);
    outline: none;
}

.nav__toggle,
.nav__close {
    display: none;
    border: none;
    background: transparent;
    padding: 0;
}

.nav__toggle {
    width: 38px;
    height: 38px;
    border-radius: 12px;
    border: 1px solid rgba(0, 0, 0, 0.08);
    background: #fff;
    align-items: center;
    justify-content: center;
}

.nav__close {
    width: 36px;
    height: 36px;
    border-radius: 10px;
    border: 1px solid rgba(0, 0, 0, 0.08);
    background: #fff;
    align-items: center;
    justify-content: center;
}

.nav__close svg,
.nav__close i {
    width: 18px;
    height: 18px;
}

.header a:focus-visible,
.header button:focus-visible {
    outline: 2px solid rgba(122, 184, 0, 0.45);
    outline-offset: 2px;
}

.header__right .nav-notifications,
.header__right .user-panel {
    margin-left: 0;
}

/* Logout Button Custom Style */
.btn-logout-custom {
    background: #ffffff;
    color: #2E6B46;
    /* Corporate Green */
    border: 1px solid #2E6B46;
    border-radius: 12px;
    /* Subtle rounding */
    padding: 0.4rem 1.2rem;
    /* Compact */
    font-weight: 600;
    font-size: 0.85rem;
    letter-spacing: 0.3px;
    box-shadow: none;
    transition: all 0.3s ease;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
}

.btn-logout-custom:hover {
    background-color: #F0FFF4;
    /* Pale green hover */
    transform: translateY(-1px);
    box-shadow: 0 2px 4px rgba(46, 107, 70, 0.1);
}

.btn-logout-custom:active {
    transform: translateY(0);
}

/* HOME */
.home__container {
    display: grid;
    gap: 2rem;
    padding-top: 6rem;
}

.home__data {
    text-align: center;
}

.home__title {
    font-size: var(--big-font-size);
    margin-bottom: 1rem;
    color: #1d1d1f;
    letter-spacing: -0.02em;
    font-weight: 700;
}

.home__description {
    margin-bottom: 2rem;
    color: #1d1d1f;
    font-size: 1.1rem;
    opacity: 0.8;
}

.home__img-wrapper {
    width: 100%;
    /* height: 300px; Remove fixed height to let image dictate or use aspect ratio */
    border-radius: 24px;
    overflow: hidden;
    /* Ensure image stays within border radius */
    display: flex;
    justify-content: center;
    align-items: center;
    box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
}

.home__img {
    width: 100%;
    height: auto;
    object-fit: cover;
}

/* SERVICES */
.services__grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: 2rem;
}

.service__card {
    /* Glass effect applied via class or here */
    background: rgba(255, 255, 255, 0.65);
    backdrop-filter: blur(25px) saturate(180%);
    -webkit-backdrop-filter: blur(25px) saturate(180%);
    border: 1px solid rgba(255, 255, 255, 0.5);
    box-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.15);
    border-radius: 24px;

    padding: 2rem;
    text-align: center;
    transition: .3s;
}

.service__card:hover {
    transform: translateY(-5px);
    box-shadow: 0 12px 40px rgba(31, 38, 135, 0.2);
}

.service__icon {
    font-size: 3rem;
    margin-bottom: 1rem;
}

.service__title {
    font-size: var(--h3-font-size);
    margin-bottom: 0.5rem;
}

/* ABOUT */
.about__container {
    display: grid;
    gap: 2rem;
}

.about__img-wrapper {
    width: 100%;
    border-radius: 24px;
    overflow: hidden;
    box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
}

.about__img {
    width: 100%;
    height: auto;
    object-fit: cover;
}

.about__list {
    margin-top: 1.5rem;
}

.about__item {
    margin-bottom: 0.5rem;
}

/* REFERENTES (Triangle Layout) */
.referentes__container {
    display: flex;
    flex-direction: column;
    gap: 2rem;
    max-width: 1400px;
    /* Wider to accommodate side-by-side */
    margin: 0 auto;
}

/* Referentes accordion */
.dm-accordion {
    display: flex;
    flex-direction: column;
    gap: 1.25rem;
}

.dm-accordion__item {
    border: 1px solid rgba(15, 23, 42, 0.08);
    border-radius: 18px;
    background: #ffffff;
    box-shadow: 0 12px 28px rgba(15, 23, 42, 0.08);
    overflow: hidden;
}

.dm-accordion__summary {
    list-style: none;
    cursor: pointer;
    padding: 1.1rem 1.4rem;
    font-weight: 700;
    font-size: 1.05rem;
    color: #0f172a;
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: 1rem;
}

.dm-accordion__summary::-webkit-details-marker {
    display: none;
}

.dm-accordion__summary::after {
    content: "";
    width: 10px;
    height: 10px;
    border-right: 2px solid rgba(15, 23, 42, 0.6);
    border-bottom: 2px solid rgba(15, 23, 42, 0.6);
    transform: rotate(-45deg);
    transition: transform 0.2s ease;
}

.dm-accordion__item[open] .dm-accordion__summary {
    border-bottom: 1px solid rgba(15, 23, 42, 0.08);
}

.dm-accordion__item[open] .dm-accordion__summary::after {
    transform: rotate(45deg);
}

.dm-accordion__summary:focus-visible {
    outline: 2px solid var(--first-color);
    outline-offset: 2px;
}

.dm-accordion__content {
    padding: 0 1.6rem 1.6rem;
}

@media (max-width: 768px) {
    .dm-accordion__summary {
        padding: 0.95rem 1rem;
    }
    .dm-accordion__content {
        padding: 0 1rem 1.25rem;
    }
    #referentes .dm-accordion__summary::after {
        content: "+";
        width: 22px;
        height: 22px;
        border: 1.5px solid var(--first-color, #7ab800);
        border-radius: 999px;
        color: var(--first-color, #7ab800);
        font-size: 1rem;
        font-weight: 700;
        line-height: 1;
        display: inline-flex;
        align-items: center;
        justify-content: center;
        transform: none;
    }
    #referentes .dm-accordion__item[open] .dm-accordion__summary::after {
        content: "-";
        transform: none;
    }
}

@media (min-width: 1024px) {
    .dm-accordion {
        gap: 2rem;
    }

    .dm-accordion__item {
        border: none;
        box-shadow: none;
        background: transparent;
    }

    .dm-accordion__summary {
        padding: 0;
        margin-bottom: 1rem;
        cursor: default;
    }

    .dm-accordion__summary::after {
        display: none;
    }

    .dm-accordion__item[open] .dm-accordion__summary {
        border-bottom: none;
    }

    .dm-accordion__content {
        padding: 0;
        display: block;
    }

    details.dm-accordion__item {
        overflow: visible;
    }

    details.dm-accordion__item:not([open]) > *:not(summary) {
        display: block !important;
    }

    details.dm-accordion__item:not([open]) > .dm-accordion__content {
        display: block !important;
    }
}

.referentes__row--top {
    display: flex;
    justify-content: center;
    width: 100%;
    max-width: 1200px !important;
    /* Match bottom row width */
    margin: 0 auto;
}

/* Bottom Row (Leaders) Styles */
.referentes__row--bottom {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 2rem;
    width: 100%;
    max-width: 1200px !important;
    /* Force alignment with Coordinators */
    margin: 0 auto;
}

.referente__card {
    display: flex;
    flex-direction: row;
    /* Horizontal */
    align-items: center;
    text-align: left;
    flex-direction: column;
    /* Vertical stack for cards in grid */
    align-items: center;
    text-align: center;
    width: 100%;
    padding: 2rem;
    gap: 1.5rem;
    height: 100%;
    /* Equal height */
}

/* Top card can remain horizontal if desired, or switch to vertical for consistency. 
   User asked for "Card destacada, ancho completo o centrada superior". 
   Let's keep the top one horizontal for distinction, or vertical if it looks better. 
   Given the "Triangle" request, usually the top one is the "apex". 
   Let's make the top one horizontal to stand out as "Level 1", and bottom ones vertical "Level 2". */
/* Top card (Leila) - Premium CEO Style */
.referentes__row--top .referente__card {
    flex-direction: row;
    text-align: left;
    max-width: 100%;
    /* Span full width of container */
    width: 100%;
    gap: 2.5rem;
    padding: 3rem;
    /* More breathing room */
    padding: 3rem;
    /* More breathing room */
    /* border-top removed for gradient pseudo-element */
    border-radius: 16px;
    background: #fff;
    /* Ensure clean white background */
    box-shadow: 0 10px 40px rgba(0, 0, 0, 0.05);
    /* Very subtle, premium shadow */
    align-items: center;
    justify-content: center;
    position: relative;
    /* Ensure positioning context */
}

.referentes__row--top .referente__card::after {
    height: 3px !important;
    /* Finer line */
    background: linear-gradient(90deg, var(--first-color), #2563eb, var(--first-color)) !important;
    /* Creative gradient: Green -> Blue -> Green */
    opacity: 1 !important;
}

.referentes__row--top .referente__img-wrapper {
    width: 170px;
    /* Largest: CEO */
    height: 170px;
    flex-shrink: 0;
    border-radius: 50%;
    overflow: hidden;
    border: none;
    /* No border */
    box-shadow: none;
    /* No shadow on image */
    background: transparent;
}

.referentes__row--top .referente__img {
    width: 100%;
    height: 100%;
    object-fit: cover;
}

.referentes__row--top .referente__content {
    display: flex;
    flex-direction: column;
    justify-content: center;
}

.referentes__row--top .referente__name {
    font-size: 2rem;
    /* Larger name */
    font-weight: 700;
    color: #1d1d1f;
    margin-bottom: 0.5rem;
    letter-spacing: -0.5px;
}

.referentes__row--top .referente__role {
    font-size: 1.1rem;
    color: var(--first-color-ink);
    /* Brisa Green */
    margin-bottom: 1rem;
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: 1px;
}

.referente-hero-desc {
    font-size: 1.15rem;
    /* Slightly larger for hero */
    color: #6e6e73;
    line-height: 1.6;
    max-width: 100%;
    /* Ensure full width to prevent wrapping */
    text-align: left;
    /* Explicitly requested */
    margin-top: 0.5rem;
}

.referentes__row--top .referente__desc {
    font-size: 1.1rem;
    color: #6e6e73;
    line-height: 1.6;
    max-width: 800px;
    /* Increased width for text */
}

/* Explicit Hero Layout Rules to Ensure Text Field Width */
.referente-hero {
    display: flex;
    flex-direction: row;
    gap: 3rem;
    /* Increased gap for better spacing when centered */
    align-items: center;
    width: 100%;
    justify-content: center;
    /* Center the entire group */
    padding-left: 120px;
    /* Visual offset to right as requested */
}

@media (max-width: 768px) {
    .referente-hero {
        padding-left: 0 !important;
        flex-direction: column;
        align-items: center;
        /* Center align on mobile */
        text-align: center;
    }

    .referente-hero-body {
        align-items: center;
        text-align: center;
    }

    .referente-hero-desc {
        text-align: center;
    }
}

.referente-hero-photo {
    flex-shrink: 0;
    width: 170px;
    height: 170px;
    border-radius: 50%;
    overflow: hidden;
    position: relative;
    display: flex;
    justify-content: center;
    align-items: center;
    box-shadow: none;
}

.referente-hero-photo img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    transform: scale(1.12);
    /* Slightly zoom in to hide any white border */
    transition: transform 0.3s ease;
}

.referente-hero-photo:hover img {
    transform: scale(1.15);
}

.referente-hero-body {
    flex: 0 1 auto;
    /* Don't stretch */
    display: flex;
    flex-direction: column;
    justify-content: center;
    text-align: left;
}

.referente-hero-desc {
    font-size: 1.15rem;
    color: #6e6e73;
    line-height: 1.6;
    max-width: 100%;
    margin-top: 0.5rem;
    white-space: normal;
    /* Allow normal wrapping, but space should be enough */
}

/* Bottom Row (Leaders) Styles */
.referente__img-wrapper {
    width: 135px;
    /* Medium: Leaders (Larger than Coordinators 110px) */
    height: 135px;
    flex-shrink: 0;
    border-radius: 50%;
    overflow: hidden;
    border: none;
    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
}

.referente__img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    transform: scale(1.1);
}

.referente__content {
    flex: 1;
}

.referente__name {
    font-size: 1.3rem;
    /* Slightly smaller than CEO */
    font-weight: 700;
    color: #1d1d1f;
    margin-bottom: 0.25rem;
}

.referente__role {
    font-size: 0.95rem;
    color: var(--first-color-ink);
    /* Brisa Green */
    margin-bottom: 0.75rem;
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: 0.5px;
}

.leader-card .referente__role--secondary {
    font-size: 0.85rem;
    color: var(--text-color);
    font-weight: 600;
    letter-spacing: 0.5px;
    margin-bottom: 1.5rem;
}

.leader-card .leader-role-spacer {
    height: 3.45rem;
    margin-bottom: 0.5rem;
}

.referente__desc {
    font-size: 0.95rem;
    color: #6e6e73;
    line-height: 1.5;
}

/* Mobile Referentes */
@media screen and (max-width: 968px) {
    .referentes__row--bottom {
        grid-template-columns: 1fr;
    }

    .referente__card {
        flex-direction: column;
        text-align: center;
    }
}

/* COORDINADORES */
.coordinadores__container {
    display: grid;
    grid-template-columns: repeat(5, 1fr);
    /* Force 5 columns on same line */
    gap: 1.5rem;
    /* Reduce gap slightly to fit */
    width: 100%;
    margin-top: 2rem;
    align-items: stretch;
    /* Stretch to match height */
    max-width: 1200px;
    margin: 0 auto;
}

@media (max-width: 992px) {
    .coordinadores__container {
        grid-template-columns: repeat(auto-fit, minmax(160px, 1fr));
    }
}

.coordinator__card {
    display: flex;
    flex-direction: column;
    align-items: center;
    text-align: center;
    padding: 1.5rem;
    gap: 0.8rem;
    /* Reduced gap */
    height: 100%;
    border-top: 4px solid var(--first-color);
    /* Green top border */
    border-radius: 12px;
    /* Slightly less rounded to match top border */
}

.coordinator__img-wrapper {
    width: 110px;
    height: 110px;
    border-radius: 50%;
    overflow: hidden;
    margin-bottom: 0.5rem;
    /* Removed shadow for a cleaner, flat look */
    box-shadow: none;
    border: none;
    /* Removed all borders */
    outline: none;
    background: transparent;
    /* Ensure no background color */
    transition: all 0.3s ease;
}

.coordinator__card:hover .coordinator__img-wrapper {
    transform: none;
    box-shadow: none;
}

.coordinator__img {
    width: 100%;
    height: 100%;
    object-fit: cover;
}

.coordinator__name {
    font-size: 1rem;
    /* Reduced size */
    font-weight: 700;
    color: #555;
    /* Corporate Grey */
    margin: 0;
    white-space: nowrap;
    /* Try to keep on one line */
}

.coordinator__role {
    font-size: 1rem;
    /* Increased from 0.9rem */
    color: var(--first-color-ink);
    /* Brisa Green */
    font-weight: 600;
    margin: 0;
    line-height: 1.3;
    max-width: 100%;
}

.coordinadores__img-wrapper {
    width: 100%;
    height: 100%;
    /* Fill the grid cell height */
    border-radius: 30px;
    overflow: hidden;
    box-shadow: 0 25px 50px rgba(0, 0, 0, 0.12);
    padding: 0 !important;
    position: relative;
    min-height: 400px;
    /* Ensure minimum height */
}

.coordinadores__img-wrapper img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    /* Cover the area without distortion */
    object-position: center;
}

.coordinadores__content {
    display: flex;
    flex-direction: column;
    gap: 1rem;
    justify-content: center;
    /* Center content vertically if image is taller, or stretch */
}


/* LOGIN MODAL */
.login-modal-overlay {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: 2000;
    /* Above everything */
    display: flex;
    /* Hidden by default, toggled via JS */
    align-items: center;
    justify-content: center;
    overflow: hidden;
    /* Initially hidden logic will be handled by JS adding/removing a class or style */
    --login-green: #7AB800;
    --login-green-dark: #689f00;
    --login-ink: #1f2937;
    --login-muted: #64748b;
    --login-card-shadow: 0 32px 80px rgba(15, 23, 42, 0.12), 0 12px 30px rgba(15, 23, 42, 0.08);
}

.login-bg {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-image:
        radial-gradient(1200px 600px at 12% 12%, rgba(122, 184, 0, 0.16), transparent 55%),
        radial-gradient(900px 500px at 88% 20%, rgba(34, 197, 247, 0.18), transparent 55%),
        linear-gradient(135deg, #f6fff1 0%, #eef8ff 45%, #ffffff 100%);
    background-size: cover;
    background-position: center;
    z-index: 0;
}

.login-overlay {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: linear-gradient(180deg, rgba(255, 255, 255, 0.35) 0%, rgba(255, 255, 255, 0.1) 60%, rgba(255, 255, 255, 0.4) 100%);
    backdrop-filter: blur(6px);
    -webkit-backdrop-filter: blur(6px);
    z-index: 1;
}

.login-card {
    position: relative;
    z-index: 10;
    background-color: #ffffff;
    border-radius: 1.5rem;
    box-shadow: var(--login-card-shadow);
    width: 100%;
    max-width: 420px;
    padding: 2.75rem 2.5rem;
    margin: 0 1rem;
    border: 1px solid rgba(148, 163, 184, 0.2);
}

.fade-in-up {
    animation: fadeInUp 0.6s cubic-bezier(0.22, 1, 0.36, 1) forwards;
    opacity: 0;
    transform: translateY(30px);
}

@keyframes fadeInUp {
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

.login-logo-wrapper {
    display: flex;
    justify-content: center;
    margin-bottom: 1.75rem;
}

.login-logo-circle {
    position: relative;
    width: 270px;
    height: 270px;
    background: #ffffff;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    box-shadow: 0 18px 40px rgba(15, 23, 42, 0.12);
    margin: 0 auto;
    padding: 0;
    /* overflow: hidden; REMOVED to allow ribbon/shadow to show */
    z-index: 10;
    /* Ensure it sits above if needed */
}

.login-logo-img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    transform: scale(1.12);
    filter: drop-shadow(0 14px 20px rgba(15, 23, 42, 0.12));
    position: relative;
    z-index: 20;
}

.login-header {
    text-align: center;
    margin-bottom: 1.75rem;
}

.login-subtitle {
    color: var(--login-ink);
    font-size: 1.4rem;
    font-weight: 700;
    letter-spacing: 0.01em;
    text-transform: none;
    margin: 0;
}

.login-form {
    display: flex;
    flex-direction: column;
    gap: 1.25rem;
}

.login-input-group {
    display: flex;
    flex-direction: column;
}

.login-label {
    display: block;
    font-size: 0.875rem;
    font-weight: 700;
    color: #374151;
    margin-bottom: 0.5rem;
}

.login-input-wrapper {
    position: relative;
}

.login-icon {
    position: absolute;
    top: 0;
    bottom: 0;
    left: 0;
    padding-left: 1rem;
    display: flex;
    align-items: center;
    pointer-events: none;
    color: #9ca3af;
    transition: color 0.2s;
}

.login-input-wrapper:focus-within .login-icon {
    color: var(--login-green);
}

.password-toggle {
    position: absolute;
    top: 50%;
    right: 0.75rem;
    transform: translateY(-50%);
    background: none;
    border: none;
    color: #9ca3af;
    cursor: pointer;
    padding: 0.25rem;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: color 0.2s;
}

.password-toggle:hover {
    color: var(--login-green);
}

.login-helper-text {
    font-size: 0.75rem;
    color: #6b7280;
    margin-top: 0.5rem;
    margin-left: 0.25rem;
}

.login-input {
    display: block;
    width: 100%;
    padding-left: 2.75rem;
    padding-right: 1rem;
    padding-top: 0.75rem;
    padding-bottom: 0.75rem;
    border: 1px solid #e2e8f0;
    border-radius: 0.75rem;
    font-size: 1rem;
    color: #1f2937;
    background-color: #f8fafc;
    transition: all 0.2s;
    outline: none;
}

.login-input::placeholder {
    color: #9ca3af;
}

.login-input::-ms-reveal,
.login-input::-ms-clear {
    display: none;
}

.login-input::-webkit-credentials-auto-fill-button {
    visibility: hidden;
    pointer-events: none;
    position: absolute;
    right: 0;
}

/* Hide native password eye in Edge/IE */
.login-input::-ms-reveal {
    display: none;
}

.password-masked {
    -webkit-text-security: disc;
    font-family: 'Inter', sans-serif;
    /* Ensure consistent font */
}

.login-input:focus {
    border-color: var(--login-green);
    box-shadow: 0 0 0 3px rgba(122, 184, 0, 0.22);
    background-color: #ffffff;
}

.login-btn {
    width: 100%;
    background-color: var(--login-green);
    color: #ffffff;
    font-weight: 700;
    padding-top: 0.75rem;
    padding-bottom: 0.75rem;
    padding-left: 1rem;
    padding-right: 1rem;
    border-radius: 999px;
    box-shadow: 0 16px 30px rgba(122, 184, 0, 0.25);
    transition: all 0.25s ease;
    border: none;
    cursor: pointer;
    font-size: 1rem;
    letter-spacing: 0.025em;
    text-transform: none;
}

.login-btn:hover {
    background-color: var(--login-green-dark);
    transform: translateY(-2px);
}

.login-btn:focus {
    outline: none;
    box-shadow: 0 0 0 3px #ffffff, 0 0 0 6px rgba(122, 184, 0, 0.35);
}

.login-biometrics {
    display: flex;
    justify-content: center;
}

.login-biometrics-btn {
    display: inline-flex;
    align-items: center;
    gap: 0.5rem;
    padding: 0.55rem 1.1rem;
    border-radius: 999px;
    border: 1px solid rgba(148, 163, 184, 0.5);
    background: #ffffff;
    color: var(--login-muted);
    font-size: 0.875rem;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.2s ease;
}

.login-biometrics-btn i {
    font-size: 0.95rem;
    color: var(--login-green);
}

.login-biometrics-btn:hover {
    border-color: rgba(122, 184, 0, 0.6);
    color: var(--login-ink);
    box-shadow: 0 10px 20px rgba(15, 23, 42, 0.08);
    transform: translateY(-1px);
}

.login-links {
    text-align: center;
    padding-top: 0.25rem;
}

.login-forgot {
    font-size: 0.75rem;
    color: #94a3b8;
    text-decoration: underline;
    text-decoration-style: dotted;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 0.25rem;
    transition: color 0.2s;
}

.login-forgot:hover {
    color: var(--login-green);
}

@media (max-width: 480px) {
    .login-card {
        padding: 2.25rem 1.75rem;
    }

    .login-logo-circle {
        width: 220px;
        height: 220px;
    }
}

/* Error Animation */
.shake {
    animation: shake 0.5s cubic-bezier(.36, .07, .19, .97) both;
    border-color: #ef4444 !important;
}

/* Ensure SweetAlert is above the login modal */
.swal2-container {
    z-index: 9999 !important;
}

@keyframes shake {

    10%,
    90% {
        transform: translate3d(-1px, 0, 0);
    }

    20%,
    80% {
        transform: translate3d(2px, 0, 0);
    }

    30%,
    50%,
    70% {
        transform: translate3d(-4px, 0, 0);
    }

    40%,
    60% {
        transform: translate3d(4px, 0, 0);
    }
}

.coordinadores__list {
    display: flex;
    flex-direction: column;
    gap: 1rem;
    height: 100%;
    /* Fill height */
    justify-content: space-between;
    /* Distribute cards evenly */
}

.coordinator__item {
    padding: 1.5rem;
    display: flex;
    flex-direction: column;
    border-left: 4px solid var(--first-color);
    background: #fff;
    border-radius: 16px;
    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.03);
    transition: 0.3s;
    flex: 1;
    /* Make items grow to fill space evenly */
    justify-content: center;
}

.coordinator__item:hover {
    transform: translateX(10px);
    box-shadow: 0 8px 25px rgba(0, 0, 0, 0.08);
}

.coordinator__item h4 {
    color: #1d1d1f;
    font-weight: 700;
}

.coordinator__item p {
    color: #6e6e73;
}

/* Mobile Coordinadores */
@media screen and (max-width: 968px) {
    .coordinadores__container {
        grid-template-columns: 1fr;
    }

    .coordinadores__img-wrapper {
        height: 300px;
        /* Fixed height on mobile */
    }
}

/* MISION (Equal Height Cards) */
.mision__container {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 2.5rem;
    /* Increased gap */
    max-width: 1200px;
    margin: 0 auto;
    background: transparent;
    padding: 0 !important;
    box-shadow: none;
    border: none;
    backdrop-filter: none;
}

.mision__item {
    background: #fff;
    padding: 3rem;
    /* Generous padding */
    border-radius: 24px;
    box-shadow: 0 4px 20px rgba(0, 0, 0, 0.05);
    /* Very subtle shadow */
    display: flex;
    flex-direction: column;
    gap: 1.5rem;
    border-top: 3px solid var(--first-color);
    /* Thinner, more professional border */
    align-items: flex-start;
    text-align: left;
    height: 100%;
    /* Ensure equal height */
    transition: all 0.4s cubic-bezier(0.25, 0.8, 0.25, 1);
    position: relative;
    overflow: hidden;
}

.mision__item:hover {
    transform: translateY(-8px);
    box-shadow: 0 20px 40px rgba(0, 0, 0, 0.08);
    /* Enhanced shadow */
}

.mision__item h3 {
    font-size: 1.75rem;
    /* Larger title */
    color: #1d1d1f;
    font-weight: 700;
    letter-spacing: -0.5px;
}

.mision__item p {
    font-size: 0.95rem;
    /* Smaller, minimalist font */
    line-height: 1.7;
    color: #666666;
    /* Lighter gray */
}

/* Custom List for Valores */
.mision__item ul {
    list-style: none;
    padding: 0;
    margin: 0;
    display: flex;
    flex-direction: column;
    gap: 0.75rem;
}

.mision__item ul li {
    position: relative;
    padding-left: 1.75rem;
    font-size: 0.95rem;
    /* Match paragraph size */
    color: #666666;
    /* Match paragraph color */
    line-height: 1.7;
}

.mision__item ul li::before {
    content: 'âœ“';
    position: absolute;
    left: 0;
    top: 0;
    color: var(--first-color-ink);
    font-weight: bold;
    font-size: 1rem;
}

/* DOC OFICIAL (More Prominent) */
.doc-oficial {
    background: #fff;
    padding: 5rem;
    /* Generous padding */
    border-radius: 30px;
    text-align: center;
    max-width: 1000px;
    /* Wider */
    margin: 0 auto;
    display: flex;
    flex-direction: column;
    gap: 2rem;
    border: 1px solid rgba(0, 0, 0, 0.05);
    box-shadow: 0 20px 60px rgba(0, 0, 0, 0.06);
    /* Premium shadow */
}

.doc__icon {
    display: none;
}

/* SCROLL UP */
.scrollup {
    position: fixed;
    right: 2rem;
    bottom: -20%;
    z-index: var(--z-tooltip);
    width: 56px;
    height: 56px;
    display: flex;
    align-items: center;
    justify-content: center;
    background: #ffffff;
    color: var(--first-color);
    border: 1px solid rgba(15, 23, 42, 0.12);
    border-radius: 9999px;
    box-shadow: 0 4px 14px rgba(0, 0, 0, 0.15);
    opacity: 0;
    transform: translateY(8px);
    transition: transform 0.25s ease, opacity 0.25s ease, bottom 0.25s ease, box-shadow 0.25s ease;
}

.scrollup:hover {
    transform: translateY(4px) scale(1.08);
    box-shadow: 0 16px 40px rgba(0, 0, 0, 0.18);
}

.scrollup:focus {
    outline: none;
}

.scrollup:focus-visible {
    box-shadow: 0 0 0 2px rgba(122, 184, 0, 0.4), 0 4px 14px rgba(0, 0, 0, 0.15);
}

.scrollup__icon {
    font-size: 1.25rem;
    color: currentColor;
}

@keyframes fab-float-up {
    from {
        opacity: 0;
        transform: translateY(28px);
    }

    to {
        opacity: 1;
        transform: translateY(0);
    }
}

.show-scroll {
    bottom: var(--dm-fab-bottom);
    opacity: 1;
    transform: translateY(0);
}

/* FOOTER - Senior Design Polish */
.footer {
    padding: 4px 0;
    background: #fff;
    position: relative;
    border-top: none;
}

/* Subtle Gradient Line */
.footer::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 1px;
    background: linear-gradient(90deg,
            rgba(255, 255, 255, 0) 0%,
            var(--first-color) 50%,
            rgba(255, 255, 255, 0) 100%);
    opacity: 0.8;
}

.footer__container {
    max-width: 1152px;
    width: 100%;
    margin: 0 auto;
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: 16px;
    flex-wrap: nowrap;
    min-height: 40px;
    padding: 0.5rem 1.5rem;
    position: relative;
}

@media (min-width: 768px) {
    .footer__container {
        padding: 0.75rem 2.5rem;
    }
}

.footer__logos {
    position: static;
    display: flex;
    align-items: center;
    gap: 0.75rem;
    justify-content: flex-start;
    flex: 0 0 auto;
    white-space: nowrap;
}

.footer__logo-img {
    height: 40px;
    width: auto;
    display: block;
    opacity: 0.9;
}

.footer__copy {
    flex: 1 1 auto;
    min-width: 0;
    margin: 0;
    text-align: center;
    font-size: 0.75rem;
    color: #6b7280;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
    line-height: 1.1;
}

.footer__brand {
    color: var(--first-color);
    font-weight: 600;
}

.footer__version {
    flex: 0 0 auto;
    text-align: right;
    white-space: nowrap;
    color: #94a3b8;
    font-size: 0.75rem;
    font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
}

/* Responsive Footer */
@media screen and (max-width: 768px) {
    .footer {
        padding: 4px 0;
    }

    .footer__container {
        flex-direction: column;
        align-items: center;
        gap: 0.5rem;
        padding: 0.75rem 1rem 1.25rem;
    }

    .footer__logos {
        flex: 0;
        padding-left: 0;
    }

    .footer__copy {
        text-align: center;
        font-size: 0.8rem;
        white-space: normal;
        overflow: visible;
        text-overflow: initial;
    }

    .footer__logo-img {
        height: 32px;
    }

    .footer__version {
        flex: 0;
        padding-right: 0;
        text-align: center;
    }
}

/* RESPONSIVE */
@media screen and (min-width: 768px) {
    .container {
        margin-left: auto;
        margin-right: auto;
    }

    .home__container {
        grid-template-columns: repeat(2, 1fr);
        align-items: center;
        text-align: left;
    }

    .home__data {
        text-align: left;
    }

    .about__container {
        grid-template-columns: repeat(2, 1fr);
        align-items: center;
    }

    .contact__info {
        display: grid;
        grid-template-columns: repeat(3, 1fr);
        gap: 2rem;
    }
}

@media screen and (max-width: 767px) {
    .nav__menu {
        position: fixed;
        bottom: -100%;
        left: 0;
        width: 100%;
        background-color: rgba(248, 250, 252, 0.98);
        padding: 2rem 1.5rem 4rem;
        box-shadow: 0 -1px 4px rgba(0, 0, 0, 0.15);
        border-radius: 1.5rem 1.5rem 0 0;
        transition: .3s;
        backdrop-filter: blur(12px);
        -webkit-backdrop-filter: blur(12px);
    }

    /* Show menu */
    .show-menu {
        bottom: 0;
    }

    .nav__list {
        display: grid;
        grid-template-columns: repeat(3, 1fr);
        gap: 2rem;
        background: transparent;
        border: none;
        box-shadow: none;
        padding: 0;
        border-radius: 0;
        backdrop-filter: none;
    }

    .nav__link {
        display: flex;
        flex-direction: column;
        align-items: center;
        font-size: var(--small-font-size);
        font-weight: var(--font-medium);
        color: var(--title-color);
        padding: 0.4rem 0.5rem;
    }

    .nav__close {
        position: absolute;
        right: 1.3rem;
        bottom: .5rem;
        cursor: pointer;
        color: var(--first-color-ink);
        display: inline-flex;
    }

    .nav__toggle {
        font-size: 1.1rem;
        cursor: pointer;
        display: inline-flex;
        color: var(--title-color);
    }

    .hamburger {
        width: 25px;
        height: 3px;
        background-color: var(--title-color);
        position: relative;
    }

    .hamburger::before,
    .hamburger::after {
        content: '';
        position: absolute;
        width: 100%;
        height: 3px;
        background-color: var(--title-color);
        transition: 0.3s;
    }

    .hamburger::before {
        top: -8px;
    }

    .hamburger::after {
        top: 8px;
    }
}

/* RESEARCH TOOLS */
.research__grid {
    display: grid;
    grid-template-columns: repeat(1, 1fr);
    gap: 2rem;
    max-width: 1000px;
    margin: 0 auto;
}

@media screen and (min-width: 768px) {
    .research__grid {
        grid-template-columns: repeat(2, 1fr);
    }
}

.research__card {
    background: #fff;
    padding: 3rem 2rem;
    /* Increased vertical padding */
    border-radius: 1.5rem;
    /* rounded-3xl for smoother look */
    box-shadow: 0 4px 20px rgba(0, 0, 0, 0.05);
    /* Softer shadow */
    border: 1px solid rgba(0, 0, 0, 0.05);
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: flex-start;
    /* Distribute content */
    transition: all 0.3s ease;
    height: 100%;
}

.research__card:hover {
    transform: translateY(-5px);
    box-shadow: 0 20px 40px rgba(0, 0, 0, 0.08);
}

.research__logo {
    height: 3.85rem;
    /* Slightly larger */
    width: auto;
    object-fit: contain;
}

.research__logo--openevidence {
    height: 8.75rem;
    width: auto;
    object-fit: contain;
}

.research__logo-wrapper {
    height: 8.75rem;
    display: flex;
    align-items: center;
    justify-content: center;
    margin-bottom: 2.5rem;
    width: 100%;
}

.research__logo-text {
    height: 3.5rem;
    margin-bottom: 2.5rem;
    display: flex;
    align-items: center;
    justify-content: center;
}

.research__logo-title {
    font-family: serif;
    font-size: 2rem;
    /* Larger text logo */
    font-weight: 700;
    color: #111827;
    letter-spacing: -0.03em;
}

.research__form {
    width: 100%;
}

.research__label {
    display: block;
    font-size: 0.95rem;
    font-weight: 700;
    color: #374151;
    /* Darker gray */
    margin-bottom: 0.75rem;
    text-align: left;
}

.research__input-wrapper {
    position: relative;
    display: flex;
    align-items: center;
}

.research__input {
    width: 100%;
    padding: 1rem 3.5rem 1rem 1.25rem;
    /* Larger padding */
    border: 1px solid #e5e7eb;
    border-radius: 0.75rem;
    outline: none;
    font-size: 1rem;
    transition: all 0.2s;
    background-color: #fff;
    color: #1f2937;
}

.research__input::placeholder {
    color: #9ca3af;
}

.research__card:first-child .research__input:focus {
    box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.1);
    border-color: #2563eb;
}

.research__card:last-child .research__input:focus {
    box-shadow: 0 0 0 3px rgba(0, 0, 0, 0.1);
    border-color: #000;
}

.research__button {
    position: absolute;
    right: 0.5rem;
    /* Fixed distance from right */
    top: 50%;
    transform: translateY(-50%);
    /* Perfect vertical centering */
    width: 2.25rem;
    height: 2.25rem;
    border-radius: 0.5rem;
    color: white;
    border: none;
    cursor: pointer;
    transition: background-color 0.2s;
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 0;
}

.research__button--blue {
    background-color: #2563eb;
}

.research__button--blue:hover {
    background-color: #1d4ed8;
}

.research__button--black {
    background-color: #000;
}

.research__button--black:hover {
    background-color: #1f2937;
}

.research__icon {
    width: 1.25rem;
    height: 1.25rem;
}

.research__caption {
    font-size: 0.85rem;
    color: #9ca3af;
    margin-top: 0.75rem;
    text-align: center;
    font-weight: 500;
}

/* DASHBOARD - Custom Implementation */
.dashboard-container {
    width: 100%;
    max-width: 1280px;
    background-color: #ffffff;
    background-color: #ffffff;
    background-color: #ffffff;
    border-radius: 1.25rem;
    /* Punta roma / Rounded */
    box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.15);
    /* Premium shadow */
    border: 1px solid rgba(229, 231, 235, 0.6);
    /* Subtle border */
    /* overflow: hidden; Removed to allow tooltip to show */
    display: flex;
    flex-direction: column;
    transition: all 0.5s ease-in-out;
}

.dashboard-container.is-open {
    height: 100%;
    max-height: 85vh;
}

.dashboard-container:not(.is-open) {
    height: auto;
}

/* Header */
.dashboard-header {
    width: 100%;
    background-color: #ffffff;
    --dashboard-pad-x: 2rem;
    --dashboard-pad-y: 1.5rem;
    --dashboard-accent-h: 2px;
    padding: var(--dashboard-pad-y) var(--dashboard-pad-x);
    /* Increased padding */
    border: none;
    border-bottom: 1px solid #f3f4f6;
    display: flex;
    align-items: center;
    justify-content: center;
    /* Center content horizontally */
    cursor: pointer;
    transition: background-color 0.2s;
    z-index: 20;
    outline: none;
    border-radius: 1.25rem;
    position: relative;
    /* For absolute positioning of right element if needed */
}

.dashboard-header::before {
    content: "";
    position: absolute;
    top: 0;
    left: var(--dashboard-pad-x);
    right: var(--dashboard-pad-x);
    height: var(--dashboard-accent-h);
    background: linear-gradient(90deg, rgba(122, 184, 0, 0.55), rgba(122, 184, 0, 0.12));
    border-radius: 999px;
    opacity: 0.85;
    pointer-events: none;
}

/* ... existing styles ... */

.dashboard-header:hover {
    background-color: #f9fafb;
}

.dashboard-header-left {
    display: flex;
    align-items: center;
    gap: 1rem;
    /* Increased gap */
    text-align: center;
    /* Center text */
    flex-direction: row;
    /* Keep row */
}

/* ... icon box ... */
.dashboard-icon-box {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    margin-left: -0.9rem;
}

.dashboard-eyebrow {
    font-size: 0.8rem;
    /* Slightly larger */
    font-weight: 700;
    color: #4CAF50;
    letter-spacing: 0.1em;
    text-transform: uppercase;
    margin-bottom: 0.25rem;
    line-height: 1;
    text-align: left;
    /* Keep left or center? User asked for Titles centered. Eyebrow usually follows. Let's align left relative to title wrapper, but wrapper is centered. */
}

.dashboard-title {
    font-size: 2rem;
    /* Match medium titles */
    font-weight: 800;
    /* Bolder */
    color: #222222;
    letter-spacing: -1.5px;
    line-height: 1.1;
    margin-top: 0;
}

@media (min-width: 968px) {
    .dashboard-title {
        font-size: 3rem;
        /* Match desktop medium titles */
    }
}

@media (min-width: 1024px) {
    .dashboard-header {
        --dashboard-pad-x: 1.5rem;
        --dashboard-pad-y: 1.2rem;
        --dashboard-accent-h: 2px;
    }

    .dashboard-eyebrow {
        font-size: 0.95rem;
        letter-spacing: 0.11em;
    }

    .dashboard-title {
        font-size: 3rem;
    }

    .dashboard-icon-box {
        margin-left: -1.2rem;
    }
}

/* Force the right-side info icon to absolute position so it doesn't mess with centering */
.dashboard-header-right {
    position: absolute;
    right: var(--dashboard-pad-x);
    top: 50%;
    transform: translateY(-50%);
    display: flex;
    align-items: center;
    gap: 1rem;
}

.dashboard-header-right {
    display: flex;
    align-items: center;
    gap: 1rem;
}

.header-info-wrapper {
    position: relative;
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: help;
    color: #9ca3af;
    transition: color 0.2s;
}

.header-info-wrapper:hover {
    color: #4b5563;
}

.header-info-icon svg {
    width: 18px;
    height: 18px;
}

.header-tooltip-content {
    position: absolute;
    top: 100%;
    right: 0;
    margin-top: 0.75rem;
    width: 16rem;
    background-color: rgba(17, 24, 39, 0.95);
    backdrop-filter: blur(4px);
    color: #ffffff;
    font-size: 11px;
    padding: 1rem;
    border-radius: 0.75rem;
    box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
    opacity: 0;
    visibility: hidden;
    transition: all 0.3s ease-out;
    z-index: 100;
    border: 1px solid rgba(255, 255, 255, 0.1);
    transform: translateY(0.5rem);
    text-align: left;
    pointer-events: none;
    font-weight: 400;
    line-height: 1.4;
}

.header-info-wrapper:hover .header-tooltip-content {
    opacity: 1;
    visibility: visible;
    transform: translateY(0);
}

.header-tooltip-content .tooltip-arrow {
    position: absolute;
    top: -4px;
    right: 6px;
    /* Adjusted to align with icon center */
    left: auto;
    /* Override generic .tooltip-arrow left positioning */
    width: 8px;
    height: 8px;
    background-color: rgba(17, 24, 39, 0.95);
    transform: rotate(45deg);
    border-left: 1px solid rgba(255, 255, 255, 0.1);
    border-top: 1px solid rgba(255, 255, 255, 0.1);
}

.dashboard-chevron {
    width: 1.25rem;
    height: 1.25rem;
    color: #9ca3af;
    transition: transform 0.3s;
}

.dashboard-container.is-open .dashboard-chevron {
    transform: rotate(180deg);
}

/* Main Content */
.dashboard-content {
    transition: all 0.5s ease-in-out;
    background-color: #ffffff;
    overflow: hidden;
    display: flex;
    border-radius: 0 0 1.25rem 1.25rem;
    /* Rounded bottom for content */
    flex-direction: column;
}

.dashboard-container.is-open .dashboard-content {
    flex: 1;
    opacity: 1;
}

.dashboard-container:not(.is-open) .dashboard-content {
    height: 0;
    opacity: 0;
}

.dashboard-layout {
    display: flex;
    flex-direction: column;
    height: 100%;
    min-height: 0;
}

@media (min-width: 768px) {
    .dashboard-layout {
        flex-direction: row;
    }
}

/* Left Column: Chart */
.chart-column {
    width: 100%;
    padding: 1.5rem;
    border-bottom: 1px solid #f3f4f6;
    display: flex;
    flex-direction: column;
    background-color: #ffffff;
    position: relative;
    height: 45%;
    flex-shrink: 0;
}

@media (min-width: 768px) {
    .chart-column {
        width: 50%;
        border-bottom: 0;
        border-right: 1px solid #f3f4f6;
        height: auto;
        padding: 2rem;
        flex-shrink: 1;
    }
}

/* Live Badge */
.live-badge {
    position: absolute;
    top: 1rem;
    right: 1rem;
    z-index: 20;
    display: flex;
    align-items: center;
    gap: 0.375rem;
    padding: 0.25rem 0.625rem;
    background-color: #ffffff;
    border-radius: 9999px;
    border: 1px solid #e5e7eb;
    box-shadow: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
}

.live-dot-container {
    position: relative;
    display: flex;
    height: 0.5rem;
    width: 0.5rem;
}

.live-dot-ping {
    position: absolute;
    display: inline-flex;
    height: 100%;
    width: 100%;
    border-radius: 9999px;
    background-color: #4CAF50;
    opacity: 0.75;
    animation: ping 1s cubic-bezier(0, 0, 0.2, 1) infinite;
}

.live-dot {
    position: relative;
    display: inline-flex;
    border-radius: 9999px;
    height: 0.5rem;
    width: 0.5rem;
    background-color: #1B5E20;
}

.live-text {
    font-size: 9px;
    font-weight: 700;
    color: #6b7280;
    text-transform: uppercase;
    letter-spacing: 0.025em;
}

@keyframes ping {

    75%,
    100% {
        transform: scale(2);
        opacity: 0;
    }
}

/* Chart Area */
.chart-container {
    flex: 1;
    display: flex;
    flex-direction: column;
    margin-top: 1rem;
    min-height: 0;
}

.bars-area {
    flex: 1;
    position: relative;
    border-bottom: 1px solid #d1d5db;
}

.grid-lines {
    position: absolute;
    inset: 0;
    z-index: 0;
    display: flex;
    flex-direction: column;
    justify-content: space-between;
    pointer-events: none;
}

.grid-line {
    width: 100%;
    border-top: 1px dashed #f3f4f6;
    height: 0;
    position: relative;
}

.bars-wrapper {
    position: absolute;
    inset: 0;
    display: flex;
    align-items: flex-end;
    justify-content: center;
    gap: 1rem;
    padding-bottom: 1px;
}

@media (min-width: 640px) {
    .bars-wrapper {
        gap: 2rem;
    }
}

.bar-group {
    display: flex;
    flex-direction: column;
    align-items: center;
    flex: 1;
    height: 90%;
    justify-content: flex-end;
    position: relative;
}

.bar-percentage {
    margin-bottom: 0.5rem;
    font-size: 0.75rem;
    /* text-xs */
    font-weight: 700;
    transition: all 0.5s;
    transform: translateY(0);
}

.bar-group:hover .bar-percentage {
    transform: translateY(-0.25rem);
}

.bar-track {
    width: 100%;
    max-width: 55px;
    height: 100%;
    background-color: #f9fafb;
    border-radius: 0.5rem 0.5rem 0 0;
    position: relative;
    overflow: hidden;
    border-left: 1px solid #d1d5db;
    border-right: 1px solid #d1d5db;
    border-top: 1px solid #d1d5db;
    box-shadow: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
}

.bar-fill {
    position: absolute;
    bottom: 0;
    width: 100%;
    transition: height 1s cubic-bezier(0.4, 0, 0.2, 1);
    border-radius: 0.125rem 0.125rem 0 0;
    /* Colors handled by utility classes or inline styles */
}

.bar-fill:hover {
    filter: brightness(1.05);
}

.bar-shine {
    position: absolute;
    top: 0;
    width: 100%;
    height: 1px;
    background-color: rgba(255, 255, 255, 0.4);
}

/* Labels Area */
.labels-area {
    height: 3.5rem;
    display: flex;
    align-items: flex-start;
    justify-content: center;
    gap: 1rem;
    padding-top: 1rem;
}

@media (min-width: 640px) {
    .labels-area {
        gap: 2rem;
    }
}

.label-wrapper {
    flex: 1;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: flex-start;
    gap: 0.5rem;
}

.phase-tag {
    display: block;
    width: 100%;
    max-width: 55px;
    background-color: #111827;
    color: #ffffff;
    font-size: 0.65rem;
    font-weight: 700;
    text-align: center;
    padding: 0.375rem 0;
    border-radius: 0.25rem;
    text-transform: uppercase;
    letter-spacing: 0.05em;
    box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
    white-space: nowrap;
    transition: background-color 0.2s;
    cursor: default;
}

.phase-tag:hover {
    background-color: #1f2937;
}

.phase-name {
    font-size: 0.65rem;
    color: #9ca3af;
    /* Softer gray */
    font-weight: 500;
    /* Medium weight, not bold */
    text-align: center;
    letter-spacing: 0.025em;
    line-height: 1.2;
    margin-top: 0.25rem;
}

/* Right Column: Checklist */
.list-column {
    width: 100%;
    display: flex;
    flex-direction: column;
    background-color: rgba(249, 250, 251, 0.3);
    height: 55%;
    min-height: 0;
}

@media (min-width: 768px) {
    .list-column {
        width: 50%;
        height: auto;
    }
}

.list-header {
    padding: 0.75rem 1.25rem;
    border-bottom: 1px solid #f3f4f6;
    background-color: #ffffff;
    display: flex;
    align-items: center;
    justify-content: space-between;
    box-shadow: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
    z-index: 10;
    flex-shrink: 0;
}

.list-title-text {
    font-size: 10px;
    font-weight: 700;
    color: #4b5563;
    text-transform: uppercase;
    letter-spacing: 0.1em;
}

.phase-dots {
    display: flex;
    align-items: center;
    gap: 0.25rem;
}

.phase-dot {
    width: 0.625rem;
    height: 0.625rem;
    border-radius: 9999px;
    box-shadow: 0 0 0 2px #ffffff;
}

/* Scrollable List */
.list-scroll-area {
    flex: 1;
    overflow-y: auto;
    padding: 0.75rem;
    display: flex;
    flex-direction: column;
    gap: 0.375rem;
    min-height: 0;
}

/* Custom Scrollbar */
.list-scroll-area::-webkit-scrollbar {
    width: 3px;
}

.list-scroll-area::-webkit-scrollbar-track {
    background: transparent;
    margin-block: 50px;
}

.list-scroll-area::-webkit-scrollbar-thumb {
    background-color: #e2e8f0;
    border-radius: 10px;
}

.list-scroll-area::-webkit-scrollbar-thumb:hover {
    background-color: #cbd5e1;
}

/* Task Item */
.task-item {
    display: flex;
    align-items: center;
    /* Center vertically for better alignment */
    gap: 1.5rem;
    /* Increased gap further for "espacio prolijo" */
    padding: 0.5rem 0.75rem;
    border-radius: 0.5rem;
    border: 1px solid #f3f4f6;
    transition: all 0.2s;
    background-color: #ffffff;
    position: relative;
}

.task-item:hover {
    border-color: #81C784;
    box-shadow: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
}

.task-item.completed {
    border-color: transparent;
    box-shadow: none;
    background-color: rgba(249, 250, 251, 0.5);
}

.task-checkbox-btn {
    flex-shrink: 0;
    width: 1.125rem;
    /* Slightly larger for better click area */
    height: 1.125rem;
    border-radius: 0.25rem;
    border: 1px solid #e5e7eb;
    background-color: #ffffff;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: all 0.2s;
    cursor: pointer;
}

.task-checkbox-btn:hover {
    border-color: #4CAF50;
}

.task-checkbox-btn.checked {
    background-color: #4CAF50;
    border-color: #4CAF50;
    color: #ffffff;
    transform: scale(1);
}

.task-check-icon {
    width: 0.875rem;
    height: 0.875rem;
    transition: transform 0.2s;
    transform: scale(0);
}

.task-checkbox-btn.checked .task-check-icon {
    transform: scale(1);
}

.task-text-content {
    flex: 1;
    min-width: 0;
    text-align: left;
    /* Force left alignment */
}

.task-text {
    font-size: 11px;
    font-weight: 500;
    line-height: 1.4;
    color: #374151;
    margin: 0;
    text-align: left;
    /* Force left alignment */
}

.task-item.completed .task-text {
    color: #9ca3af;
    text-decoration: line-through;
    text-decoration-color: #4CAF50;
    text-decoration-thickness: 1px;
}

.task-phase-badge {
    flex-shrink: 0;
    font-size: 9px;
    /* Slightly larger for readability */
    font-weight: 700;
    padding: 0.25rem 0.5rem;
    border-radius: 0.25rem;
    border: 1px solid;
    margin-left: 0.5rem;
}

.task-delete-btn {
    color: #d1d5db;
    padding: 0.25rem;
    border-radius: 0.25rem;
    opacity: 0;
    transition: all 0.2s;
    background: none;
    border: none;
    cursor: pointer;
    margin-left: 0.25rem;
}

.task-item:hover .task-delete-btn {
    opacity: 1;
}

.task-delete-btn:hover {
    color: #ef4444;
}

/* Footer Input */
.list-footer {
    padding: 0.75rem;
    background-color: #ffffff;
    border-top: 1px solid #f3f4f6;
    box-shadow: 0 -4px 20px rgba(0, 0, 0, 0.02);
    z-index: 10;
    flex-shrink: 0;
}

.dashboard-last-updated {
    text-align: right;
    font-size: 0.65rem;
    color: #9ca3af;
    margin-top: 0.75rem;
    font-style: italic;
    font-weight: 500;
}

.input-form {
    display: flex;
    gap: 0.5rem;
    align-items: center;
}

.info-tooltip-container {
    position: relative;
    display: flex;
    align-items: center;
    justify-content: center;
}

.info-icon {
    width: 1.25rem;
    height: 1.25rem;
    color: #d1d5db;
    transition: color 0.2s;
    cursor: help;
}

.info-icon:hover {
    color: #4CAF50;
}

.tooltip-content {
    position: absolute;
    bottom: 100%;
    left: 0;
    margin-bottom: 0.75rem;
    width: 16rem;
    background-color: rgba(17, 24, 39, 0.95);
    backdrop-filter: blur(4px);
    color: #ffffff;
    font-size: 11px;
    padding: 1rem;
    border-radius: 0.75rem;
    box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
    opacity: 0;
    visibility: hidden;
    transition: all 0.3s ease-out;
    z-index: 50;
    border: 1px solid rgba(255, 255, 255, 0.1);
    transform: translateY(0.5rem);
    text-align: left;
}

.info-tooltip-container:hover .tooltip-content {
    opacity: 1;
    visibility: visible;
    transform: translateY(0);
}

.tooltip-arrow {
    position: absolute;
    top: 100%;
    left: 0.375rem;
    margin-top: -0.375rem;
    border-width: 4px;
    border-style: solid;
    border-color: rgba(17, 24, 39, 0.95) transparent transparent transparent;
}

.task-input-wrapper {
    position: relative;
    flex: 1;
}

.task-input {
    width: 100%;
    padding: 0.5rem 0.5rem 0.5rem 0.75rem;
    background-color: #f9fafb;
    border: 1px solid #e5e7eb;
    border-radius: 0.5rem;
    font-size: 0.75rem;
    /* text-xs */
    font-weight: 500;
    outline: none;
    transition: all 0.2s;
}

.task-input:focus {
    box-shadow: 0 0 0 2px rgba(76, 175, 80, 0.2);
    border-color: #4CAF50;
}

.phase-select {
    padding: 0.5rem;
    background-color: #f9fafb;
    border: 1px solid #e5e7eb;
    border-radius: 0.5rem;
    font-size: 10px;
    font-weight: 700;
    color: #4b5563;
    outline: none;
    cursor: pointer;
    text-transform: uppercase;
    letter-spacing: 0.025em;
    transition: background-color 0.2s;
}

.phase-select:hover {
    background-color: #f3f4f6;
}

.add-btn {
    background-color: #111827;
    color: #ffffff;
    padding: 0.5rem;
    border-radius: 0.5rem;
    border: none;
    transition: all 0.2s;
    box-shadow: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
}

.add-btn:hover {
    background-color: #000000;
}

.add-btn:disabled {
    opacity: 0.5;
    cursor: not-allowed;
}

.add-btn:active {
    transform: scale(0.95);
}

/* Utility Colors for Phases */
.bg-f1 {
    background-color: #81C784;
}

.bg-f2 {
    background-color: #4CAF50;
}

.bg-f3 {
    background-color: #2E7D32;
}

.bg-f4 {
    background-color: #1B5E20;
}

.text-f1 {
    color: #2E7D32;
}

.text-f2 {
    color: #1B5E20;
}

.text-f3 {
    color: #1B5E20;
}

.text-f4 {
    color: #0D3310;
}

.border-f1 {
    border-color: #81C784;
}

.border-f2 {
    border-color: #4CAF50;
}

.border-f3 {
    border-color: #2E7D32;
}

.border-f4 {
    border-color: #1B5E20;
}

.bg-light-f1 {
    background-color: #F1F8E9;
}

.bg-light-f2 {
    background-color: #E8F5E9;
}

.bg-light-f3 {
    background-color: #C8E6C9;
}

.bg-light-f4 {
    background-color: #A5D6A7;
}

.ring-f1 {
    box-shadow: inset 0 0 0 1px #66bb6a;
}

.ring-f2 {
    box-shadow: inset 0 0 0 1px #388E3C;
}

.ring-f3 {
    box-shadow: inset 0 0 0 1px #1B5E20;
}

.ring-f4 {
    box-shadow: inset 0 0 0 1px rgba(0, 0, 0, 0.3);
}

/* Text Colors for Chart Percentages */
.text-phase-f1 {
    color: #2E7D32;
}

.text-phase-f2 {
    color: #1B5E20;
}

.text-phase-f3 {
    color: #1B5E20;
}

.text-phase-f4 {
    color: #0D3310;
}

/* =========================================
   MOBILE RESPONSIVENESS (Refactor)
   ========================================= */
/* =========================================
   MOBILE RESPONSIVENESS (Refactor)
   ========================================= */
@media screen and (max-width: 768px) {

    /* GLOBAL RESET & SCROLL */
    html,
    body {
        overflow-x: hidden;
        width: 100%;
    }

    .container {
        width: 100%;
        margin: 0 auto;
        padding-left: 1.5rem;
        padding-right: 1.5rem;
    }

    /* HEADER & NAV */
    .header__container {
        padding: 0 1.5rem;
        height: 80px;
        /* Standard mobile header height */
        gap: 0.75rem;
    }

    /* Keep scroll state consistent on mobile */
    .scroll-header {
        height: 80px;
        padding: 0.25rem 0;
    }

    .scroll-header .header__container {
        height: 80px;
    }

    .logo img {
        height: 40px !important;
        /* Standard mobile logo size */
    }

    .scroll-header .logo img,
    .scroll-header .logo-img-brisa,
    .scroll-header .logo-img-heart {
        height: 40px !important;
        max-height: 40px;
    }

    .logo-wrapper {
        display: flex;
        align-items: center;
        gap: 0.75rem;
    }

    .header__right {
        gap: var(--sp-2, 12px);
    }

    .header__actions {
        gap: var(--sp-2, 12px);
    }

    .user-panel-trigger {
        max-width: 160px;
        padding: 0.35rem 0.6rem;
    }

    .user-panel-trigger .user-name {
        max-width: 96px;
    }

    /* Adjust logo sizes for mobile if needed */
    .logo-brisa img {
        height: 40px !important;
    }

    .logo-heart img {
        height: 35px !important;
    }

    /* Disable Dynamic Title on Mobile */
    .header__title-center {
        display: none !important;
    }

    .footer {
        display: none;
    }

    .dm-notif-dropdown__header {
        justify-content: center;
        text-align: center;
    }

    .dm-notif-dropdown__title {
        color: #7ab800;
        text-align: center;
    }

    /* HERO SECTION */
    .section {
        padding: 5rem 0 3rem;
        /* Reduced top padding */
    }

    .section__title {
        font-size: var(--h1-font-size);
        /* Use standardized variable */
        line-height: 1.1;
    }

    .section__subtitle {
        font-size: var(--h3-font-size);
        /* Use standardized variable */
        margin-bottom: 1rem;
    }

    .section__description {
        font-size: var(--description-font-size);
        /* Use standardized variable */
        padding: 0 0.5rem;
        margin-bottom: 2rem;
    }

    /* MISION CARDS (Mobile Only) */
    .mision__container {
        display: flex;
        flex-direction: column;
        gap: 1.5rem;
    }

    .mision__item {
        background: #ffffff;
        padding: 1.5rem;
        border-radius: 1rem;
        box-shadow: 0 4px 15px rgba(0, 0, 0, 0.05);
        border: 1px solid rgba(0, 0, 0, 0.02);
        text-align: left;
    }

    .mision__item h3 {
        font-size: 1.25rem;
        color: var(--first-color-ink);
        margin-bottom: 0.5rem;
        border-bottom: 2px solid rgba(106, 191, 75, 0.1);
        padding-bottom: 0.5rem;
        display: inline-block;
    }

    .mision__item p,
    .mision__item li {
        font-size: 0.95rem;
        color: #555;
        line-height: 1.6;
    }

    /* GRIDS (Referentes) */
    .referentes__grid {
        grid-template-columns: 1fr;
        gap: 1.5rem;
    }

    /* REFERENTES SPECIFIC */
    .referentes__row--top .referente__card {
        flex-direction: column;
        /* Stack vertically */
        text-align: center;
        padding: 2rem 1.5rem;
        gap: 1.5rem;
    }

    .referentes__row--top .referente__img-wrapper {
        width: 140px;
        /* Slightly smaller than desktop */
        height: 140px;
        margin: 0 auto;
    }

    .referentes__row--top .referente__content {
        align-items: center;
    }

    .referentes__row--bottom {
        grid-template-columns: 1fr;
    }

    /* COORDINADORES SPECIFIC */
    .coordinadores__container {
        grid-template-columns: 1fr;
        gap: 1.5rem;
    }

    .coordinator__card {
        flex-direction: row;
        align-items: center;
        text-align: left;
        gap: 1.5rem;
        padding: 1rem;
    }

    .coordinator__img-wrapper {
        width: 80px;
        height: 80px;
        margin-bottom: 0;
    }

    .coordinator__name {
        font-size: 1.1rem;
        margin-bottom: 0.25rem;
    }

    /* DASHBOARD RESPONSIVENESS */
    .dashboard-layout {
        flex-direction: column;
        height: auto;
    }

    /* Allow dashboard to expand fully on mobile */
    .dashboard-container.is-open {
        max-height: none !important;
        height: auto !important;
    }

    .chart-column,
    .list-column {
        width: 100%;
        height: auto;
    }

    .chart-column {
        padding: 1.5rem 1rem;
        border-right: none;
        border-bottom: 1px solid #f3f4f6;
        min-height: 350px;
    }

    .list-column {
        height: 800px;
    }

    .labels-area {
        gap: 0.5rem;
    }

    .phase-tag {
        font-size: 0.55rem;
        padding: 0.25rem 0;
        max-width: 45px;
    }

    .phase-name {
        font-size: 0.55rem;
    }

    .bars-wrapper {
        gap: 0.5rem;
    }

    /* TOUCH OPTIMIZATION (Capacitive) */
    .button,
    .nav__link,
    .add-btn,
    .task-checkbox-btn {
        min-height: 44px;
        min-width: 44px;
        display: inline-flex;
        align-items: center;
        justify-content: center;
    }

    .task-item {
        padding: 0.75rem;
        gap: 0.75rem;
    }

    .task-checkbox-btn {
        width: 1.5rem;
        height: 1.5rem;
    }

    .task-text {
        font-size: 12px;
    }

    /* Input Form Stacking */
    .input-form {
        flex-wrap: wrap;
    }

    .task-input-wrapper {
        min-width: 100%;
        margin-bottom: 0.5rem;
    }

    .phase-select {
        flex: 1;
        height: 44px;
    }

    .add-btn {
        flex: 0 0 44px;
        height: 44px;
    }
}

/* DESKTOP HEADER SCROLL EFFECT */
@media screen and (min-width: 968px) {

    /* Peripheral Displacement on Scroll */
    .scroll-header .header__container {
        padding: 0 1.5rem;
        transition: padding 0.4s ease;
        max-width: 1024px;
        width: 100%;
        margin: 0 auto;
    }

    /* Ensure Logo moves left */
    .scroll-header .logo-wrapper {
        margin-left: 0;
    }

    /* Ensure Nav moves right */
    .scroll-header .nav__menu {
        margin-right: 0;
    }

    /* Normal State (for reference/reset) */
    .header__container {
        transition: padding 0.4s ease;
    }
}

.medium-title {
    font-size: 2rem !important;
    /* Medium size on mobile */
}

@media screen and (min-width: 968px) {
    .medium-title {
        font-size: 3rem !important;
        /* Restore large size on desktop */
    }
}

.long-title {
    font-size: 1.75rem !important;
    /* Smaller on mobile for long titles */
}

/* ==================== SESSION OVERLAY ==================== */
.session-overlay {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(255, 255, 255, 0.9);
    backdrop-filter: blur(8px);
    z-index: 9999;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    opacity: 0;
    visibility: hidden;
    transition: all 0.3s ease;
}

.session-overlay.active {
    opacity: 1;
    visibility: visible;
}

.session-spinner {
    width: 50px;
    height: 50px;
    border: 4px solid rgba(46, 107, 70, 0.1);
    border-top: 4px solid #2E6B46;
    /* First Color */
    border-radius: 50%;
    animation: spin 1s linear infinite;
    margin-bottom: 1.5rem;
}

.session-text {
    font-size: 1.25rem;
    color: #2E6B46;
    /* First Color */
    font-weight: 600;
    letter-spacing: 0.5px;
}

@keyframes spin {
    0% {
        transform: rotate(0deg);
    }

    100% {
        transform: rotate(360deg);
    }
}

@media screen and (min-width: 968px) {
    .long-title {
        font-size: 3rem !important;
        /* Restore large size on desktop */
    }
}

/* --- TÃ­tulos corporativos unificados --- */
.dm-title{
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 0.75rem;
    color: var(--title-color);
}
.dm-title svg{
    width: 34px;
    height: 34px;
    color: var(--first-color);
}
@media (max-width: 768px){
    .dm-title svg{
        width: 28px;
        height: 28px;
    }
}

/* Calendario corporativo */
.calendar-header{
    display: flex;
    justify-content: center;
    align-items: center;
    gap: 12px;
    margin-bottom: 16px;
    text-align: center;
}
.calendar-edit-btn{
    background-color: #7AB800;
    color: #fff;
    padding: 8px 16px;
    border-radius: 8px;
    text-decoration: none;
    font-weight: 600;
    font-size: 14px;
    transition: background 0.2s;
    white-space: nowrap;
}
.calendar-edit-btn:hover {
    background-color: #6aa000;
}
.calendar-edit-btn--floating{
    position: absolute;
    top: 10px;
    left: 50%;
    transform: translateX(-10%);
    z-index: 5;
    box-shadow: 0 10px 24px rgba(0,0,0,0.12);
}
@media (max-width: 768px){
    .calendar-header{
        flex-direction: column;
    }
    .calendar-edit-btn--floating{
        position: static;
        margin-top: 10px;
        box-shadow: none;
        transform: none;
    }
}

/* Visitas KPI */
.visitas-wrap{
    display: flex;
    justify-content: center;
    margin: 6px 0 16px;
}
.visitas-wrap--overlay{
    position: absolute;
    left: 50%;
    top: calc(100% - (var(--calendar-mask-height) * 0.5));
    transform: translate(-50%, -50%);
    width: 100%;
    margin: 0;
    z-index: 6;
    pointer-events: none;
}
.calendario-section .visitas-wrap--overlay .visitas-pill{
    margin: 0;
}
.visitas-wrap--overlay .visitas-pill{
    pointer-events: auto;
}
.visitas-pill{
    display: inline-flex;
    align-items: center;
    gap: 0.75rem;
    padding: 0.5rem 1.5rem;
    background: #f8fafc;
    border: 1px solid #e2e8f0;
    border-radius: 9999px;
    box-shadow: 0 1px 2px rgba(0,0,0,0.06);
}
.visitas-label{
    color: #64748b;
    font-size: 0.875rem;
    font-weight: 500;
}
.visitas-count{
    background: transparent;
    border: 0;
    padding: 0;
    border-radius: 0;
    color: #0f172a;
    font-weight: 700;
    font-size: 1rem;
    letter-spacing: 0.02em;
}


/* Tooltip info Open Evidence */
.research__label-row{
    display: flex;
    align-items: center;
    gap: 0.5rem;
    margin-bottom: 0.75rem;
}
.research__label{
    margin-bottom: 0;
}
.dm-info-tip{
    position: relative;
    display: inline-flex;
    align-items: center;
}
.dm-info-btn{
    width: 22px;
    height: 22px;
    border-radius: 999px;
    border: 1px solid rgba(0,0,0,.18);
    background: #fff;
    color: #6b7280;
    font-weight: 900;
    line-height: 1;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
}
.dm-info-btn:hover{
    color: var(--first-color-ink);
    border-color: rgba(122,184,0,.45);
}
.dm-info-tooltip{
    position: absolute;
    bottom: calc(100% + 10px);
    left: 0;
    width: min(360px, 75vw);
    padding: 12px 14px;
    border-radius: 14px;
    background: #fff;
    color: #374151;
    font-size: .92rem;
    line-height: 1.35;
    border: 1px solid var(--first-color);
    box-shadow: 0 18px 40px rgba(0,0,0,.12);
    opacity: 0;
    transform: translateY(-4px);
    pointer-events: none;
    transition: all .18s ease;
    z-index: 50;
}
.dm-info-tooltip::before{
    content:"";
    position:absolute;
    bottom:-6px;
    left: 10px;
    width:12px; height:12px;
    background:#fff;
    border-left: 1px solid var(--first-color);
    border-bottom: 1px solid var(--first-color);
    transform: rotate(45deg);
}
.dm-info-tip:hover .dm-info-tooltip,
.dm-info-tip:focus-within .dm-info-tooltip{
    opacity: 1;
    transform: translateY(0);
    pointer-events: auto;
}

.calendar-container {
    width: 100%;
    max-width: 900px;
    margin: 0 auto;
    position: relative;
    --calendar-mask-height: 120px;
    padding-bottom: 54%;
    /* Tuned to reduce excess bottom space */
    height: 0;
    overflow: hidden;
}

.calendar-container iframe {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    border: 0;
}

.calendar-container::after{
    content: "";
    position: absolute;
    left: 0;
    right: 0;
    bottom: 0;
    height: var(--calendar-mask-height);
    background-color: var(--body-color);
    background-image: var(--dm-page-bg);
    background-attachment: scroll;
    background-position: center top;
    background-repeat: no-repeat;
    pointer-events: none;
    z-index: 2;
    border-radius: 12px;
}
.calendar-container::before{
    content: none;
}

@media (min-width: 1024px) {
    .calendario-section.section--tight {
        padding-top: 1.75rem;
        padding-bottom: 0;
    }

    .calendario-section .calendar-container {
        padding-bottom: 50%;
        --calendar-mask-height: 80px;
    }

    .calendario-section .calendar-container::after {
        bottom: 0;
        background-attachment: fixed;
    }

    .calendario-section .visitas-wrap {
        margin: 0;
    }
}

/* ==================== VISITAS WIDGET ==================== */
.visitas-widget {
    display: flex;
    justify-content: center;
    align-items: center;
    gap: 12px;
    width: 100%;
    margin: -28px auto 0 auto;
    text-align: center;
}

/* ====================
   Mobile App Shell
   ==================== */
.dm-bottom-nav {
    position: fixed;
    left: 0;
    right: 0;
    bottom: 0;
    height: calc(var(--bottom-nav-h) + env(safe-area-inset-bottom));
    padding: 6px 12px env(safe-area-inset-bottom);
    background: rgba(255, 255, 255, 0.9);
    border-top: 1px solid rgba(0, 0, 0, 0.06);
    backdrop-filter: blur(14px);
    -webkit-backdrop-filter: blur(14px);
    display: none;
    align-items: center;
    justify-content: space-around;
    gap: 6px;
    z-index: 900;
}

.dm-bottom-nav__item {
    flex: 1;
    min-width: 56px;
    min-height: 44px;
    display: inline-flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    gap: 4px;
    font-size: 0.7rem;
    font-weight: 600;
    color: #6b7280;
    border-radius: 12px;
    transition: color 0.2s ease, background 0.2s ease;
}

.dm-bottom-nav__item svg,
.dm-bottom-nav__item i {
    width: 20px;
    height: 20px;
}

.dm-bottom-nav__item[aria-current="page"],
.dm-bottom-nav__item.is-active {
    color: var(--first-color, #7ab800);
    background: rgba(122, 184, 0, 0.12);
}

@media (max-width: 768px), (display-mode: standalone) {
    html,
    body {
        touch-action: pan-x pan-y;
        -webkit-text-size-adjust: 100%;
        text-size-adjust: 100%;
    }

    body[data-view] input,
    body[data-view] textarea,
    body[data-view] select {
        font-size: 16px;
    }

    .header__container {
        height: 64px;
        display: grid;
        grid-template-columns: minmax(0, 1fr) auto minmax(0, 1fr);
        align-items: center;
        gap: 0.5rem;
        position: relative;
    }

    .scroll-header,
    .scroll-header .header__container {
        height: 64px;
    }

    .header__left {
        display: flex;
        grid-column: 1;
        justify-self: start;
        align-self: end;
        transform: translateY(14px);
    }

    .header__left .logo-heart {
        display: none;
    }

    .header__center {
        display: none;
    }

    .header__right {
        display: contents;
    }

    .header__right .nav__menu,
    .header__right .nav__toggle {
        display: none;
    }

    .header__actions {
        display: contents;
    }

    .nav-notifications {
        grid-column: 3;
        justify-self: end;
        align-self: end;
        transform: translateY(10px);
    }

    .user-panel {
        position: absolute;
        left: 50%;
        top: 50%;
        grid-column: 2;
        justify-self: center;
        max-width: min(62vw, 240px);
        width: 100%;
        display: flex;
        justify-content: center;
        align-self: center;
        transform: translate(-46%, -148%);
    }

    .header .user-panel-trigger {
        width: 100%;
        max-width: 100%;
        justify-content: center;
        text-align: center;
        padding: 0.25rem 0.5rem;
        line-height: 1.05;
        gap: 6px;
    }

    .header .user-panel-trigger .user-name {
        max-width: 100%;
        text-align: center;
    }

    .header .user-panel-icon {
        display: inline-flex;
        width: 22px;
        height: 22px;
        border-radius: 999px;
        border: 1.5px solid var(--brisa);
        color: var(--brisa);
        align-items: center;
        justify-content: center;
        flex-shrink: 0;
    }

    .header .user-panel-icon svg {
        width: 12px;
        height: 12px;
    }

    .header .ui-info {
        display: none;
    }

    .nav-notifications .dm-msg-indicator{
        display: inline-flex;
    }

    .dm-notif-dropdown{
        display: none !important;
    }

    .dm-notif-badge{
        display: none;
    }

    .main {
        padding-bottom: calc(var(--bottom-nav-h) + env(safe-area-inset-bottom) + 12px);
    }

    .dm-bottom-nav {
        display: flex;
    }

    body[data-view] .main > section,
    body[data-view] #foro {
        display: none;
    }

    body[data-view="carrete"] #carrete,
    body[data-view="estructura"] #estructura-hero,
    body[data-view="estructura"] #mision,
    body[data-view="estructura"] #referentes,
    body[data-view="estructura"] #estructura-funcional,
    body[data-view="comites"] #comites,
    body[data-view="evidencia"] #investigacion,
    body[data-view="foro"] #foro {
        display: block;
        margin-top: 0;
        padding-top: 8px;
    }

    body[data-view="foro"] #foro > .text-center {
        padding-top: 6px;
        margin-bottom: 6px;
        padding-bottom: 14px;
        border-bottom: 1px solid var(--brisa, #7ab800);
    }

    body[data-view="foro"] #foro > .text-center p {
        font-size: 0.86rem;
        line-height: 1.35;
    }

    body[data-view="foro"] #foro > .text-center h2 {
        display: block;
        text-align: center;
    }

    body[data-view="foro"] #foro > .text-center h2 [data-lucide="message-square"] {
        display: none !important;
    }

    body[data-view="foro"] #foro > .section-card > .bg-white.border-t {
        border-top: 0;
        position: relative;
    }

    body[data-view="foro"] #foro > .section-card > .bg-white.border-t::before {
        content: "";
        position: absolute;
        left: 0;
        right: 0;
        top: 8px;
        height: 1px;
        background: var(--brisa, #7ab800);
    }

    body[data-view="foro"] #foro {
        margin-bottom: 0;
    }

    body[data-view="estructura"] .estructura-calendar,
    body[data-view="estructura"] .visitas-wrap,
    body[data-view="estructura"] .visitas-pill {
        display: none !important;
    }

    #estructura-hero {
        padding-top: 4.25rem !important;
        padding-bottom: 1rem !important;
    }

    #estructura-hero .section__title {
        margin-bottom: 1.6rem;
    }

    #estructura-hero .section__subtitle {
        margin-top: 0;
    }

    #estructura-hero .section__description {
        margin-bottom: 0;
    }

    #estructura-hero .flex.flex-col {
        display: none;
    }

    #estructura-hero .hero-logo {
        margin-top: 0;
    }

    #referentes {
        padding-top: 1.5rem;
    }

    #estructura-funcional {
        padding-top: 2.5rem;
    }

    .dm-accordion {
        gap: 0.9rem;
    }

    .show-scroll {
        bottom: calc(var(--bottom-nav-h) + 16px + env(safe-area-inset-bottom));
    }
}

@media (min-width: 1024px) {
    .dm-avatar-ring {
        border: 1px solid var(--color-brisa-500, #7AB800);
        border-radius: 999px;
        box-shadow: 0 2px 10px rgba(0, 0, 0, 0.10);
        outline: none;
    }

    .dm-ai-selector__btn.dm-avatar-ring {
        border: 1px solid var(--color-brisa-500, #7AB800);
        box-shadow: 0 2px 10px rgba(0, 0, 0, 0.10);
        outline: none;
    }
}
